<div class="container">
  {% comment %} Yazım hatası düzeltildi: container {% endcomment %}
  <section class="bg-white py-20 px-6">
    <div class="max-w-7xl mx-auto">
      <div class="flex justify-between items-end mb-12">
        <div>
          <h4 class="text-primary font-light tracking-widest uppercase">
            {{ section.settings.section_title }}
          </h4>
          <p class="text-primary mt-2 text-xs font-light uppercase tracking-widest">
            {{ section.settings.section_subtitle }}
          </p>
        </div>
        {% if section.settings.button_url %}
          <a
            href="{{ section.settings.button_url }}"
            class="text-primary border-b border-line pb-1 hover:text-secondary hover:border-secondary transition-all"
          >
            {{ section.settings.button_text }}
          </a>
        {% endif %}
      </div>

      <div class="grid grid-cols-2 md:grid-cols-4 gap-x-6 gap-y-12">
        {%- assign featured_collection = section.settings.collection -%}
        {% for product in collections[featured_collection].products limit: 4 %}
          {% comment %} MEHMET: İşte o meşhur tek satır! {% endcomment %}
          {% render 'product-card', product: product %}
        {% endfor %}
      </div>
    </div>
  </section>
</div>

{% comment %}
  MEHMET: JS kısmını buraya koymuyorum çünkü artık product-card.liquid içinde
  kendi form yapısı varsa, global sepet kodun (theme.liquid'e koyduğumuz) bunu yakalayacaktır.
{% endcomment %}

{% schema %}
{
  "name": "Featured Products",
  "settings": [
    {
      "type": "collection",
      "id": "collection",
      "label": "Collection to Feature"
    },
    {
      "type": "text",
      "id": "section_title",
      "label": "Section Title"
    },
    {
      "type": "text",
      "id": "section_subtitle",
      "label": "Section Subtitle"
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "Button Text"
    },
    {
      "type": "url",
      "id": "button_url",
      "label": "Button URL"
    }
  ],
  "presets": [
    {
      "name": "Featured Products"
    }
  ]
}
{% endschema %}
