<div class="swiper myHeroSwiper w-full h-[500px] lg:h-[700px]">
  <div class="swiper-wrapper">
    {% for block in section.blocks %}
      <div class="swiper-slide relative w-full h-full">
        {% if block.settings.image != blank %}
          {{
            block.settings.image
            | image_url: width: 2000
            | image_tag: class: 'w-full h-full object-cover', loading: 'lazy'
          }}
        {% else %}
          {{ 'lifestyle-1' | placeholder_svg_tag: 'w-full h-full object-cover bg-gray-200' }}
        {% endif %}

        <div class="absolute inset-0 bg-black/30 flex items-center justify-center text-center px-4">
          <div class="max-w-3xl">
            <h2 class="text-white text-4xl lg:text-6xl font-bold mb-4 transform transition-all duration-700">
              {{ block.settings.title }}
            </h2>
            <p class="text-white text-lg lg:text-xl mb-8">
              {{ block.settings.sub_title }}
            </p>
            {% if block.settings.button_link != blank %}
              <a
                href="{{ block.settings.button_link }}"
                class="bg-white text-black px-8 py-3 rounded-[30px] font-bold hover:bg-brand hover:text-white transition-all"
              >
                {{ block.settings.button_label }}
              </a>
            {% endif %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>

  <div class="swiper-button-next"></div>
  <div class="swiper-button-prev"></div>
  <div class="swiper-pagination"></div>
</div>

<script>
  const initSwiper = () => {
    new Swiper('.myHeroSwiper', {
      loop: true,
      effect: 'fade', // Yumuşak geçiş
      fadeEffect: {
        crossFade: true,
      },
      speed: 1000, // Geçiş hızı (1 saniye)
      autoplay: {
        delay: 5000,
        disableOnInteraction: false,
      },
      pagination: {
        el: '.swiper-pagination',
        clickable: true,
        dynamicBullets: true, // Şık, küçükten büyüğe noktalar
      },
      navigation: {
        nextEl: '.swiper-button-next',
        prevEl: '.swiper-button-prev',
      },
    });
  };

  document.addEventListener('DOMContentLoaded', initSwiper);
  document.addEventListener('shopify:section:load', initSwiper);
</script>

{% schema %}
{
  "name": "Hero Slider",
  "settings": [],
  "blocks": [
    {
      "type": "slide",
      "name": "Slayt",
      "settings": [
        { "type": "image_picker", "id": "image", "label": "Görsel" },
        { "type": "text", "id": "title", "label": "Başlık", "default": "Yeni Sezon" },
        { "type": "text", "id": "sub_title", "label": "Alt Başlık", "default": "En yeni koleksiyonu hemen keşfedin." },
        { "type": "text", "id": "button_label", "label": "Buton Yazısı", "default": "Alışverişe Başla" },
        { "type": "url", "id": "button_link", "label": "Buton Linki" }
      ]
    }
  ],
  "presets": [{ "name": "Hero Slider" }]
}
{% endschema %}
